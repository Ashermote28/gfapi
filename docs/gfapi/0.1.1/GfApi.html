<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: GfApi</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: GfApi</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>GfApi<span class="signature">(apiKey, secret, options)</span><span class="type-signature"></span></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    
    <h4 class="name" id="GfApi"><span class="type-signature"></span>new GfApi<span class="signature">(apiKey, secret, options)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Create GfApi client</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>apiKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>API Key, eg <code>test-0123456789abcde</code></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>secret</code></td>
            

            <td class="type">
            
                
<span class="param-type">hash</span>


            
            </td>

            

            

            <td class="description last"><p>TOTP secret, eg  <code>{secret: 'your secret', algorithm: 'SHA1', digits: 6, period: 30}</code></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">hash</span>


            
            </td>

            

            

            <td class="description last"><p>Options, eg <code>{loglevel: 'trace'}</code></p>
<ul>
<li><code>logLevel</code>: <code>trace</code> (logs HTTP requests/responses), <code>debug</code> (logs HTTP requests), <code>info,</code>warn<code>,</code>error, or <code>fatal</code></li>
</ul></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line209">line 209</a>
    </li></ul></dd>
    

    

    

    
</dl>


















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="bulk_get"><span class="type-signature"></span>bulk_get<span class="signature">(bulk)</span><span class="type-signature"> &rarr; {hash}</span></h4>
    

    



<div class="description">
    <p>Get bulk object.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bulk</code></td>
            

            <td class="type">
            
                
<span class="param-type">uuid</span>


            
            </td>

            

            

            <td class="description last"><p>id</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line427">line 427</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Sample result</p>
<pre class="prettyprint source lang-json"><code>{
  &quot;id&quot;: &quot;b4ef3e91-dca9-46ea-8e4b-5f38062fb26d&quot;,
  &quot;owner&quot;: &quot;us-east-1:ab36c6a0-2cb6-476c-809c-77a08908499f&quot;,
  &quot;offer_key&quot;: &quot;Ol4YAU5g-l0w&quot;,
  &quot;status&quot;: &quot;listed&quot;,
  &quot;num_listed&quot;: 2,
  &quot;listings&quot;: [
    {
       &quot;id&quot;: &quot;f005c650-567c-4494-85ef-57cc567d27cc&quot;,
       &quot;status&quot;: &quot;draft&quot;
    }, {
       &quot;id&quot;: &quot;555f8301-2f3f-451d-b69f-7a2fe0241016&quot;,
       &quot;status&quot;: &quot;draft&quot;
    }],
  &quot;updated&quot;: &quot;2017-01-21T02:29:53.511Z&quot;,
  &quot;created&quot;: &quot;2017-01-21T02:03:56.164Z&quot;
}</code></pre><p><strong>bulk.status</strong></p>
<ul>
<li><pre class="prettyprint source"><code>                +-- steam_escrow --+
                |                  v
  start &lt;-> receive_pending --> received -----> listed
                                   |               ^
                                   +-> trade_hold -+</code></pre></li>
<li><em>start</em>: initial state</li>
<li><em>receive_pending</em>: trade offer made</li>
<li><em>steam_escrow</em>: trade offer accepted but held by STEAM</li>
<li><em>received</em>: trade offer accepted and item received by bot</li>
<li><em>trade_hold</em>: item received by bot, but trade hold on item (e.g., Just Survive)</li>
<li><em>listed</em>: listings and escrows created (search index may still be pending)</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">hash</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="bulk_mine_get"><span class="type-signature"></span>bulk_mine_get<span class="signature">(Query)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Query your bulk object (subset of data fields) by status</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>Query</code></td>
            

            <td class="type">
            
                
<span class="param-type">hash</span>


            
            </td>

            

            

            <td class="description last"><p>options. Warning: modified by callee.</p>
<ul>
<li>status: Either 'start', 'receive_pending', 'received', 'listed', 'steam_escrow', or 'trade_hold'.</li>
<li>limit # of entries to get (default: 20, max: 100)</ul></li>
</ul></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line383">line 383</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Array of bulks (subset of data fields) or null if none left</p>
</div>



    





        
            

    

    
    <h4 class="name" id="bulk_post"><span class="type-signature"></span>bulk_post<span class="signature">()</span><span class="type-signature"> &rarr; {hash}</span></h4>
    

    



<div class="description">
    <p>Create bulk object</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line447">line 447</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Sample result</p>
<pre class="prettyprint source lang-json"><code>{
  &quot;id&quot;: &quot;b4ef3e91-dca9-46ea-8e4b-5f38062fb26d&quot;,
  &quot;owner&quot;: &quot;us-east-1:ab36c6a0-2cb6-476c-809c-77a08908499f&quot;,
  &quot;offer_key&quot;: &quot;Ol4YAU5g-l0w&quot;,
  &quot;status&quot;: &quot;start&quot;,
  &quot;updated&quot;: &quot;2017-01-21T02:29:53.511Z&quot;,
  &quot;created&quot;: &quot;2017-01-21T02:03:56.164Z&quot;
}</code></pre><p>The main field you are concerned about is 'id'.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">hash</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="bulk_put"><span class="type-signature"></span>bulk_put<span class="signature">(id, data)</span><span class="type-signature"> &rarr; {hash}</span></h4>
    

    



<div class="description">
    <p>Initiate trade offer or gets latest bulk object (if data parameter not specified).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">uuid</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Bulk ID from bulk_post()</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">hash</span>


            
            </td>

            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>Optional. If specified, create offer for items specified:</p>
<pre class="prettyprint source lang-json"><code>[{
   id: item.asset_id,
   appid: item.appid,
   price: priceInCents,
   market_hash_name: item.market_hash_name
}, {
   ...
}]</code></pre><p>If not specified, updates and returns latest bulk object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line469">line 469</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>bulk data</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">hash</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="check_trade_ban"><span class="type-signature"></span>check_trade_ban<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Check if you have a Steam trade ban or hold</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line372">line 372</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

    <div class="param-desc">
    
        <p>UnprocessableEntityError you have trade ban or hold</p>
    
    </div>


    







        
            

    

    
    <h4 class="name" id="escrow_get"><span class="type-signature"></span>escrow_get<span class="signature">(listing)</span><span class="type-signature"> &rarr; {hash}</span></h4>
    

    



<div class="description">
    <p>Get escrow data, if exists, for given listing id. Caller must own listing.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>listing</code></td>
            

            <td class="type">
            
                
<span class="param-type">uuid</span>


            
            </td>

            

            

            <td class="description last"><p>id</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line364">line 364</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>escrow data
<strong>escrow.status</strong></p>
<ul>
<li><pre class="prettyprint source"><code>received &lt;--> deliver_pending --> delivered
   ^
   |
   +----> return_pending -----> returned</code></pre></li>
<li><em>received</em>: trade offer accepted and item received by bot</li>
<li><em>deliver_pending</em>: trade offer made to buyer but not accepted</li>
<li><em>delivered</em>: trade offer accepted by buyer. Initiate listing completion.</li>
<li><em>return_pending</em>: trade offer made to seller to return item</li>
<li><em>return</em>: trade offer accepted and seller has item</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">hash</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="escrow_mine_get"><span class="type-signature"></span>escrow_mine_get<span class="signature">(Query)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Query your escrows (subset of data fields) by status</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>Query</code></td>
            

            <td class="type">
            
                
<span class="param-type">hash</span>


            
            </td>

            

            

            <td class="description last"><p>options. Warning: modified by callee.
   status Either 'received' (default), 'delivered', 'returned'.
   limit # of entries to get (default: 20, max: 100)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line342">line 342</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Array of escrows (subset of data fields) or null if none left</p>
</div>



    





        
            

    

    
    <h4 class="name" id="listing_get"><span class="type-signature"></span>listing_get<span class="signature">(id)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Get single listing by id. The listing owner can view any listing they own.
Anyone else may only view listings that are publicly viewable or get an error.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"><p>list id</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line258">line 258</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>listing</p>
</div>



    





        
            

    

    
    <h4 class="name" id="listing_patch"><span class="type-signature"></span>listing_patch<span class="signature">(Query)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Updates a listing with new or updated properties.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>Query</code></td>
            

            <td class="type">
            
                
<span class="param-type">hash</span>


            
            </td>

            

            

            <td class="description last"><p>options.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line283">line 283</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>listing</p>
</div>



    





        
            

    

    
    <h4 class="name" id="listing_post"><span class="type-signature"></span>listing_post<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Creates a blank listing to be edited and posted.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line274">line 274</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>listing</p>
</div>



    





        
            

    

    
    <h4 class="name" id="listing_search"><span class="type-signature"></span>listing_search<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Search listings.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line266">line 266</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Array of listings or null if none left</p>
</div>



    





        
            

    

    
    <h4 class="name" id="listing_status"><span class="type-signature"></span>listing_status<span class="signature">(id, status)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Changes a listing's status.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>status</code></td>
            

            <td class="type">
            
                
<span class="param-type">enum</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line293">line 293</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>listing</p>
</div>



    





        
            

    

    
    <h4 class="name" id="profile_get"><span class="type-signature"></span>profile_get<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Get profile</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line248">line 248</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>profile</p>
</div>



    





        
            

    

    
    <h4 class="name" id="steam_inventory_get"><span class="type-signature"></span>steam_inventory_get<span class="signature">(profileId, appId, query)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Get public steam inventory. This is not part of the Gameflip API and is an unsupported helper function.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>profileId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Profile ID of Steam User</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>appId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>APP ID of game inventory to retrieve (such as, GfApi.STEAM.APP_ID.CSGO)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
                
<span class="param-type">hash</span>


            
            </td>

            

            

            <td class="description last"><p>parameters including l=<language> and count=<integer></p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line480">line 480</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="upload_photo"><span class="type-signature">(async) </span>upload_photo<span class="signature">(url)</span><span class="type-signature"> &rarr; {object}</span></h4>
    

    



<div class="description">
    <p>Uploads an online image to Gameflip for use as the listing's cover photo.
NOTE: Images have a filesize limit of 500 kilobytes.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line307">line 307</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>photo object with url</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="GfApi.html">GfApi</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue May 01 2018 10:31:57 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>